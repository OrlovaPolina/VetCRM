$(document).ready(function(){$(".alert")&&setTimeout(()=>{$(".alert").animate({top:"-100%",opacity:"0"},1500,"linear",function(){$(this).remove()})},1500);let i=location.pathname;$(".nav-link").each(function(e,a){$(this).attr("href")==i?$(this).addClass("active").attr("aria-current","page"):$(this).hasClass("active")&&$(this).removeClass("active").attr("aria-current","")}),$("#reset").click(function(){$("form.filter-form input").each(function(e,a){$(this).val(""),location.href="/manager"})}),$(".image").each(function(){if($(this).attr("value")){let e=$(this).attr("value").split(/\//);e=e[e.length-1];let a=new File([$(this).attr("value")],e,{type:"image/png, image/gif, image/jpeg, image/jpg",lastModified:new Date().getTime()}),t=new DataTransfer;t.items.add(a),$(this).prop("files",t.files)}}),$(document).on("change",".images .image:not(:last-child)",function(){let e=parseInt($(this).prop("name").split(/(\[)|(\])/)[3]);l(e);let a=$("input.image").length;console.log("количество = "+a),console.log("номер текущего = "+e),a<2?n(0):e+1==a&&n(e)})});function n(i){i=i+1;let e='<div class="input-group"><input type="file" name="images['+i+']" class="image" aaccept="image/png, image/gif, image/jpeg, image/jpg"><img src="preview-image.png" id="image-'+i+'" alt="Preview"></div>';$("#images").append(e)}function l(i){i=i;const[e]=$('input.image[name="images['+i+']"]').prop("files");e&&$("img#image-"+i).prop("src",URL.createObjectURL(e))}
